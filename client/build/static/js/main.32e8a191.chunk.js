(this.webpackJsonptiny_neows=this.webpackJsonptiny_neows||[]).push([[0],{39:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),r=n.n(c),s=n(21),i=n.n(s),o=n(13),l=n(2),u=n(8),j=n.n(u),p=n(10),h=n(11),d=n(12),b=n(15),m=n(14),g=n(22),O=n.n(g),x=function(t){var e=t.item,n=t.children;return e?Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:e.name})}),Object(a.jsx)("div",{children:Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Next approach date: "})," ",Object(a.jsx)(O.a,{format:"Do MMMM YYYY (HH:mm)",children:e.close_approach_date})]})}),Object(a.jsx)("div",{children:n})]}):Object(a.jsx)("p",{children:"No object returned, sorry."})},f=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={id:t.props.match.params.id,goBack:t.props.history.goBack,item:{}},t.fetchHttpRequestDetail=function(){var e=Object(p.a)(j.a.mark((function e(n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8000/api/",e.next=3,fetch("http://localhost:8000/api/"+"detail/".concat(n));case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,t.setState({item:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.fetchHttpRequestDetail(this.state.id)}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)(x,{item:this.state.item,children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Estimated diameter:"})," ",this.state.item.estimated_diameter_min," ","km - ",this.state.item.estimated_diameter_max," km"]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Relative velocity:"})," ",this.state.item.relative_velocity," km/h"]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Url:"})," ",Object(a.jsx)("a",{href:this.state.item.nasa_jpl_url,children:this.state.item.nasa_jpl_url})]})]}),Object(a.jsx)("button",{className:"button-back",type:"button",variant:"contained",color:"primary",onClick:function(){return t.state.goBack()},children:"Back"})]})}}]),n}(c.Component),_=function(t){var e=t.collection;return e&&0!==e.length?Object(a.jsx)("ul",{style:{listStyleType:"none",margin:"0",padding:"0"},children:e.map((function(t){return Object(a.jsx)("li",{className:t.is_potentially_hazardous?"container-paging-body-if-item-alert":"container-paging-body-item",children:Object(a.jsx)(o.b,{to:{pathname:"/".concat(t.id,"/"),query:{id:t.id,name:t.name,close_approach_date:t.close_approach_date}},children:Object(a.jsx)(x,{item:t})})},t.id)}))}):Object(a.jsx)("p",{children:"No objects returned, sorry"})},v=n(24),y=n(25);var k=function(t){return function(e){var n=e.isLoading,c=Object(y.a)(e,["isLoading"]);return n?Object(a.jsx)("div",{children:"Fetching data, please wait."}):Object(a.jsx)(t,Object(v.a)({},c))}},N=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={collection:[],current_page:1,next_page:null,prev_page:null,page_count:1,is_loading:!1},t.fetchHttpRequestPage=function(){var e=Object(p.a)(j.a.mark((function e(n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({is_loading:!0}),"http://localhost:8000/api/feed/?page=",e.next=4,fetch("http://localhost:8000/api/feed/?page="+"".concat(n));case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,t.setState({collection:c.results,current_page:c.page_number,next_page:c.next_page,prev_page:c.previous_page,page_count:c.page_count,is_loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.fetchHttpRequestPage(this.state.current_page)}},{key:"render",value:function(){var t,e=this,n=k(_),c=[];if(this.state.page_count)for(var r=1;r<=this.state.page_count;r++)c.push(r);t=c.map((function(t){return Object(a.jsx)("button",{type:"button",style:{padding:"0.2em"},onClick:function(){return e.fetchHttpRequestPage(t)},children:t},t)}));return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("blockquote",{children:["page ",this.state.current_page]}),Object(a.jsx)(n,{isLoading:this.state.is_loading,collection:this.state.collection}),Object(a.jsxs)("div",{className:"container-paging-controls",children:[Object(a.jsx)("span",{className:"container-paging-controls-arrow",onClick:function(){return e.fetchHttpRequestPage(1!==e.state.current_page?e.state.current_page-1:e.state.current_page)},children:"\xab"}),Object(a.jsx)("span",{className:"container-paging-controls-numbers",children:t}),Object(a.jsx)("span",{className:"container-paging-controls-arrow",onClick:function(){return e.fetchHttpRequestPage(e.state.current_page!==e.state.page_count?e.state.current_page+1:e.state.current_page)},children:"\xbb"})]})]})}}]),n}(c.Component),w=function(){return Object(a.jsxs)("div",{className:"main-headings",children:[Object(a.jsx)("h1",{children:"Tiny NeoWS"}),Object(a.jsx)("h3",{children:"Near Earth Objects Dashboard"})]})},q=function(){return Object(a.jsx)("div",{})};var H=function(){return Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(w,{}),Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:N}),Object(a.jsx)(l.a,{path:"/:id/",component:f})]})}),Object(a.jsx)(q,{})]})};n(39);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.32e8a191.chunk.js.map