(this.webpackJsonptiny_neows=this.webpackJsonptiny_neows||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),i=n(21),s=n.n(i),o=n(13),l=n(2),p=n(8),u=n.n(p),j=n(10),d=n(11),h=n(12),b=n(15),m=n(14),g=n(22),x=n.n(g),O=function(e){var t=e.item,n=e.children;return t?Object(a.jsxs)("div",{className:"container-card",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h4",{name:"item-name",children:t.name})}),Object(a.jsx)("div",{children:Object(a.jsxs)("p",{name:"next-approach-date",children:[Object(a.jsx)("b",{children:"Next approach date: "})," ",Object(a.jsx)(x.a,{format:"Do MMMM YYYY (HH:mm)",children:t.close_approach_date})]})}),Object(a.jsx)("div",{children:n})]}):Object(a.jsx)("p",{children:"No object returned, sorry."})},f=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={id:e.props.match.params.id,goBack:e.props.history.goBack,item:{}},e.fetchHttpRequestDetail=function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:8000/api/",t.next=3,fetch("http://localhost:8000/api/"+"detail/".concat(n));case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,e.setState({item:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchHttpRequestDetail(this.state.id)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"container-card-detail",children:[Object(a.jsxs)(O,{item:this.state.item,children:[Object(a.jsxs)("p",{name:"estimated-diameter",children:[Object(a.jsx)("b",{children:"Estimated diameter:"})," ",this.state.item.estimated_diameter_min," ","km - ",this.state.item.estimated_diameter_max," km"]}),Object(a.jsxs)("p",{name:"relative-velocity",children:[Object(a.jsx)("b",{children:"Relative velocity:"})," ",this.state.item.relative_velocity," km/h"]}),Object(a.jsxs)("p",{name:"url",children:[Object(a.jsx)("b",{children:"Url:"})," ",Object(a.jsx)("a",{name:"nasa-api-url",href:this.state.item.nasa_jpl_url,children:this.state.item.nasa_jpl_url})]})]}),Object(a.jsx)("button",{className:"back-button",type:"button",variant:"contained",color:"primary",onClick:function(){return e.state.goBack()},children:"Back"})]})}}]),n}(c.Component),v=function(e){var t=e.collection;return t&&0!==t.length?Object(a.jsx)("ul",{style:{listStyleType:"none",margin:"0",padding:"0"},children:t.map((function(e){return Object(a.jsx)("li",{className:e.is_potentially_hazardous?"container-paging-body-if-item-alert":"container-paging-body-item",children:Object(a.jsx)(o.b,{to:{pathname:"/".concat(e.id,"/"),query:{id:e.id,name:e.name,close_approach_date:e.close_approach_date}},children:Object(a.jsx)(O,{item:e})})},e.id)}))}):Object(a.jsx)("p",{children:"No objects returned, sorry"})},_=n(24),y=n(25);var k=function(e){return function(t){var n=t.isLoading,c=Object(y.a)(t,["isLoading"]);return n?Object(a.jsx)("div",{className:"loading-text",children:"Fetching data, please wait."}):Object(a.jsx)(e,Object(_.a)({},c))}},N=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={collection:[],current_page:1,next_page:null,prev_page:null,page_count:1,is_loading:!1},e.fetchHttpRequestPage=function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({is_loading:!0}),"http://localhost:8000/api/feed/?page=",t.next=4,fetch("http://localhost:8000/api/feed/?page="+"".concat(n));case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,e.setState({collection:c.results,current_page:c.page_number,next_page:c.next_page,prev_page:c.previous_page,page_count:c.page_count,is_loading:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchHttpRequestPage(this.state.current_page)}},{key:"render",value:function(){var e,t=this,n=k(v),c=[];if(this.state.page_count)for(var r=1;r<=this.state.page_count;r++)c.push(r);e=c.map((function(e){return Object(a.jsx)("button",{type:"button",style:{padding:"0.2em"},onClick:function(){return t.fetchHttpRequestPage(e)},children:e},e)}));return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("blockquote",{children:["page ",this.state.current_page]}),Object(a.jsx)(n,{isLoading:this.state.is_loading,collection:this.state.collection}),Object(a.jsxs)("div",{className:"container-paging-controls",children:[Object(a.jsx)("span",{className:"container-paging-controls-arrow",onClick:function(){return t.fetchHttpRequestPage(1!==t.state.current_page?t.state.current_page-1:t.state.current_page)},children:"\xab"}),Object(a.jsx)("span",{className:"container-paging-controls-numbers",children:e}),Object(a.jsx)("span",{className:"container-paging-controls-arrow",onClick:function(){return t.fetchHttpRequestPage(t.state.current_page!==t.state.page_count?t.state.current_page+1:t.state.current_page)},children:"\xbb"})]})]})}}]),n}(c.Component),w=function(){return Object(a.jsxs)("div",{className:"main-headings",children:[Object(a.jsx)("h1",{children:"Tiny NeoWS"}),Object(a.jsx)("h3",{children:"Near Earth Objects Dashboard"})]})},q=function(){return Object(a.jsx)("div",{})};var H=function(){return Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(w,{}),Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:N}),Object(a.jsx)(l.a,{path:"/:id/",component:f})]})}),Object(a.jsx)(q,{})]})};n(39);s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.0b774a92.chunk.js.map